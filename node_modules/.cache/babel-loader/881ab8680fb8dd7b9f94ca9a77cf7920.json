{"ast":null,"code":"import httpServ from \"../../Service/http.service\";\nimport { GET_USER_LIST, LOGIN, SET_USER_ADMIN_LIST, SET_USER_DETAILS_INFOR, SET_USER_DETAILS_TICKET_INFOR } from \"../type/userType\";\nimport { message } from \"antd\";\nimport { history } from \"../../App\";\nexport const loginUserAction = data => {\n  return dispatch => {\n    httpServ.loginUser(data).then(res => {\n      message.success(\"Đăng nhập thành công!\");\n      dispatch({\n        type: LOGIN,\n        payload: res.data\n      });\n      setTimeout(() => {\n        history.push(\"/admin/dashboard\");\n      }, 1000);\n    }).catch(err => {\n      console.log(\"err\", err);\n      message.error(\"Tài khoản hoặc mật khẩu không đúng!\");\n      history.push(\"/login\");\n    });\n  };\n};\nexport const getUserListAction = function () {\n  let user = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \"\";\n  return dispatch => {\n    httpServ.getUserList(user).then(res => {\n      console.log(\"userList\", res.data);\n      dispatch({\n        type: GET_USER_LIST,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const addUserAdminAction = data => {\n  return dispatch => {\n    httpServ.addUserAdmin(data).then(res => {\n      message.success(\"Thêm thành công\");\n      dispatch({\n        type: SET_USER_ADMIN_LIST,\n        payload: res.data\n      });\n      setTimeout(() => {\n        history.push(\"/admin/user\");\n      }, 1000);\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const deleteUserAction = id => {\n  return dispatch => {\n    httpServ.deleteUser(id).then(res => {\n      httpServ.getUserList().then(res => {\n        message.success(\"Xóa thành công!\");\n        dispatch({\n          type: GET_USER_LIST,\n          payload: res.data\n        });\n      }).catch(err => {\n        console.log(\"err\", err);\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const getUserInforAction = id => {\n  return dispatch => {\n    httpServ.getUserInfor(id).then(res => {\n      dispatch({\n        type: SET_USER_DETAILS_INFOR,\n        payload: res.data\n      });\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const getListTicketsByUserAction = id => {\n  return dispatch => {\n    httpServ.getListTicketsByUser(id).then(res => {\n      console.log(\"resTickets\", res.data);\n      dispatch({\n        type: SET_USER_DETAILS_TICKET_INFOR,\n        payload: res.data\n      });\n      history.push(\"/admin/user/profile\");\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const updateUserInforAction = (value, id) => {\n  return dispatch => {\n    httpServ.updateUserInfor(value, id).then(res => {\n      message.success(\"Cập nhật thành công\");\n      setTimeout(() => {\n        history.push(\"/admin/user\");\n      }, 1000);\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};\nexport const updateImgUserAction = (userImg, id) => {\n  return dispatch => {\n    httpServ.updateImgUser(userImg, id).then(res => {\n      console.log(\"res\", res);\n    }).catch(err => {\n      console.log(\"err\", err);\n    });\n  };\n};","map":{"version":3,"sources":["C:/Users/siuhuynh/Desktop/BC-18/DU-AN-CUOI-KHOA/Airbnb-CLone/Air-Bnb-modal/Air-Bnb-modal/src/redux/action/userAction.js"],"names":["httpServ","GET_USER_LIST","LOGIN","SET_USER_ADMIN_LIST","SET_USER_DETAILS_INFOR","SET_USER_DETAILS_TICKET_INFOR","message","history","loginUserAction","data","dispatch","loginUser","then","res","success","type","payload","setTimeout","push","catch","err","console","log","error","getUserListAction","user","getUserList","addUserAdminAction","addUserAdmin","deleteUserAction","id","deleteUser","getUserInforAction","getUserInfor","getListTicketsByUserAction","getListTicketsByUser","updateUserInforAction","value","updateUserInfor","updateImgUserAction","userImg","updateImgUser"],"mappings":"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","sourcesContent":["import httpServ from \"../../Service/http.service\";\r\nimport {\r\n  GET_USER_LIST,\r\n  LOGIN,\r\n  SET_USER_ADMIN_LIST,\r\n  SET_USER_DETAILS_INFOR,\r\n  SET_USER_DETAILS_TICKET_INFOR,\r\n} from \"../type/userType\";\r\nimport { message } from \"antd\";\r\nimport { history } from \"../../App\";\r\n\r\nexport const loginUserAction = (data) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .loginUser(data)\r\n      .then((res) => {\r\n        message.success(\"Đăng nhập thành công!\");\r\n        dispatch({\r\n          type: LOGIN,\r\n          payload: res.data,\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/admin/dashboard\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n        message.error(\"Tài khoản hoặc mật khẩu không đúng!\");\r\n        history.push(\"/login\");\r\n      });\r\n  };\r\n};\r\n\r\nexport const getUserListAction = (user = \"\") => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .getUserList(user)\r\n      .then((res) => {\r\n        console.log(\"userList\", res.data);\r\n        dispatch({\r\n          type: GET_USER_LIST,\r\n          payload: res.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const addUserAdminAction = (data) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .addUserAdmin(data)\r\n      .then((res) => {\r\n        message.success(\"Thêm thành công\");\r\n        dispatch({\r\n          type: SET_USER_ADMIN_LIST,\r\n          payload: res.data,\r\n        });\r\n        setTimeout(() => {\r\n          history.push(\"/admin/user\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const deleteUserAction = (id) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .deleteUser(id)\r\n      .then((res) => {\r\n        httpServ\r\n          .getUserList()\r\n          .then((res) => {\r\n            message.success(\"Xóa thành công!\");\r\n            dispatch({\r\n              type: GET_USER_LIST,\r\n              payload: res.data,\r\n            });\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"err\", err);\r\n          });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const getUserInforAction = (id) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .getUserInfor(id)\r\n      .then((res) => {\r\n        dispatch({\r\n          type: SET_USER_DETAILS_INFOR,\r\n          payload: res.data,\r\n        });\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const getListTicketsByUserAction = (id) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .getListTicketsByUser(id)\r\n      .then((res) => {\r\n        console.log(\"resTickets\", res.data);\r\n        dispatch({\r\n          type: SET_USER_DETAILS_TICKET_INFOR,\r\n          payload: res.data,\r\n        });\r\n        history.push(\"/admin/user/profile\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const updateUserInforAction = (value, id) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .updateUserInfor(value, id)\r\n      .then((res) => {\r\n        message.success(\"Cập nhật thành công\");\r\n        setTimeout(() => {\r\n          history.push(\"/admin/user\");\r\n        }, 1000);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n\r\nexport const updateImgUserAction = (userImg, id) => {\r\n  return (dispatch) => {\r\n    httpServ\r\n      .updateImgUser(userImg, id)\r\n      .then((res) => {\r\n        console.log(\"res\", res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"err\", err);\r\n      });\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}